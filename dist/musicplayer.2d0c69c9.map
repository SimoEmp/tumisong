{"version":3,"sources":["../src/js/musicplayer.js"],"names":["getSongs","mp__list","document","querySelector","populateMPList","_songs","innerHTML","slice","map","song","name","artist","duration","join","songs","querySelectorAll","wArtist","wSong","nowPlaying","inc","forEach","i","addEventListener","e","s","classList","remove","toggle","npSong","npArtist","textContent","songList","featuredList","SONGS_URL","fetchSongs","fetch","isFetching","then","res","json","val","imgUrl","catch"],"mappings":";AACA,IAAMA,EAAW,CAAC,CACN,KAAA,sBACE,OAAA,OACE,SAAA,QAEhB,CACY,KAAA,aACE,OAAA,WACE,SAAA,QAEhB,CACY,KAAA,YACE,OAAA,aACE,SAAA,QAEhB,CACY,KAAA,QACE,OAAA,aACE,SAAA,QAEhB,CACY,KAAA,OACE,OAAA,aACE,SAAA,QAEhB,CACY,KAAA,QACE,OAAA,QACE,SAAA,QAEhB,CACY,KAAA,SACE,OAAA,SACE,SAAA,SAIVC,EAAWC,SAASC,cAAc,cAElCC,EAAiB,SAACC,GAGxBJ,EAASK,UAAYD,EAAOE,MAAM,EADjB,GAC8BC,IAAI,SAAAC,GAIpBA,MAAAA,uGAAAA,OAAAA,EAAKC,KACHD,4CAAAA,OAAAA,EAAKE,OACHF,8CAAAA,OAAAA,EAAKG,SALpC,sBAQDC,KAAK,KAGRT,EAAeJ,GAIf,IAAIc,EAAQZ,SAASa,iBAAiB,aAClCC,EAAUd,SAASC,cAAc,oBACjCc,EAAQf,SAASC,cAAc,kBAC/Be,EAAa,CACbP,OAAQ,KACRF,KAAM,MAENU,EAAM,EACVL,EAAMM,QAAQ,SAACX,EAAMY,GACjBZ,EAAKa,iBAAiB,QAAS,SAAAC,GAC3BT,EAAMM,QAAQ,SAAAI,GAAKA,OAAAA,EAAEC,UAAUC,OAAO,aACtCjB,EAAKgB,UAAUE,OAAO,WAClBC,IAAAA,EAAS1B,SAASC,cAAtB,wBACI0B,EAAW3B,SAASC,cAAxB,0BACAe,EAAWP,OAASkB,EAASC,YAC7BZ,EAAWT,KAAOmB,EAAOE,YACzBd,EAAQc,YAAcZ,EAAWP,OACjCM,EAAMa,YAAcZ,EAAWT,SAKvC,IAKIsB,EALEC,EAAe9B,SAASC,cAAc,mBAEtC8B,EAAY,kCACZC,EAAaC,MAAMF,GAGrBG,GAAa,EACjBD,MAAMF,GACDI,KAAK,SAAAC,GAAOA,OAAAA,EAAIC,SAChBF,KAAK,SAAAE,GACFR,EAAWQ,EACXP,EAAa1B,UAAb,GACAyB,EAASX,QAAQ,SAACoB,GACdR,EAAa1B,WAG+BkC,yIAAAA,OAAAA,EAAIC,OAYnBD,4wBAAAA,OAAAA,EAAI/B,KAfjC,qNAwBPiC,MAAM,SAAAJ,GACHN,EAAa1B,UAEHgC,0FAAAA,OAAAA,EAFV","file":"musicplayer.2d0c69c9.map","sourceRoot":"..\\public","sourcesContent":["//Music player widget\r\nconst getSongs = [{\r\n    \"name\": \"Dessert of la femme\",\r\n    \"artist\": \"Koda\",\r\n    \"duration\": \"0:00\"\r\n},\r\n{\r\n    \"name\": \"After Life\",\r\n    \"artist\": \"Illenium\",\r\n    \"duration\": \"0:00\"\r\n},\r\n{\r\n    \"name\": \"Sixty six\",\r\n    \"artist\": \"Matt Lange\",\r\n    \"duration\": \"0:00\"\r\n},\r\n{\r\n    \"name\": \"Roses\",\r\n    \"artist\": \"Jeff Kaale\",\r\n    \"duration\": \"0:00\"\r\n},\r\n{\r\n    \"name\": \"Liam\",\r\n    \"artist\": \"Eric Orydz\",\r\n    \"duration\": \"0:00\"\r\n},\r\n{\r\n    \"name\": \"Rufus\",\r\n    \"artist\": \"Bloom\",\r\n    \"duration\": \"0:00\"\r\n},\r\n{\r\n    \"name\": \"Oceans\",\r\n    \"artist\": \"Flores\",\r\n    \"duration\": \"0:00\"\r\n}\r\n]\r\n//Add source links and move to exp server\r\nconst mp__list = document.querySelector('.mp__songs')\r\n\r\nconst populateMPList = (_songs) => {\r\n//Slice fetched songs to max of DOM link count\r\nconst MAXCOUNT = 7;\r\nmp__list.innerHTML = _songs.slice(0, MAXCOUNT).map(song => {\r\n    return `\r\n<li class=\"mp__song\">\r\n    <span class=\"mp__icon btn--play\"></span>\r\n    <span class=\"song__name\">${song.name}</span>\r\n    <span class=\"song__artist\">${song.artist}</span>\r\n    <span class=\"song__duration\">${song.duration}</span>\r\n</li>\r\n`\r\n}).join('')\r\n}\r\n\r\npopulateMPList(getSongs)\r\n\r\n//End mp-widget\r\n\r\nlet songs = document.querySelectorAll('.mp__song');\r\nlet wArtist = document.querySelector('.mp__artist-name');\r\nlet wSong = document.querySelector('.mp__song-name');\r\nlet nowPlaying = {\r\n    artist: null,\r\n    song: null\r\n}\r\nlet inc = 0;\r\nsongs.forEach((song, i) => {\r\n    song.addEventListener('click', e => {\r\n        songs.forEach(s => s.classList.remove('playing'))\r\n        song.classList.toggle('playing');\r\n        let npSong = document.querySelector(`.playing .song__name`);\r\n        let npArtist = document.querySelector(`.playing .song__artist`);\r\n        nowPlaying.artist = npArtist.textContent;\r\n        nowPlaying.song = npSong.textContent;\r\n        wArtist.textContent = nowPlaying.artist;\r\n        wSong.textContent = nowPlaying.song;\r\n        // console.log(`now playing: ${nowPlaying.song} by ${nowPlaying.artist}`);\r\n    })\r\n})\r\n//Populate featured list\r\nconst featuredList = document.querySelector('.featured__list');\r\n//Fetch and play music song json\r\nconst SONGS_URL = 'https://tumiserver.now.sh/songs';\r\nconst fetchSongs = fetch(SONGS_URL);\r\n\r\nvar songList;\r\nlet isFetching = true;\r\nfetch(SONGS_URL)\r\n    .then(res => res.json())\r\n    .then(json => {\r\n        songList = json;\r\n        featuredList.innerHTML = ``;\r\n        songList.forEach((val) => {\r\n            featuredList.innerHTML += `\r\n            <figure class=\"item\">\r\n                <div class=\"item__group\">\r\n                    <img src=\"assets/images/cover-art/${val.imgUrl}\" alt=\"_\" class=\"item__image img\">\r\n                    <span class=\"icon btn--play play--icon item__play\">\r\n                        <svg class=\"svg--play\" viewBox=\"0 0 77 76.1\">\r\n                            <path class=\"st0\" d=\"M67.9,33L29.1,10.6c-4.3-2.5-9.6,0.6-9.6,5.6v44.8c0,4.9,5.3,8,9.6,5.6l38.8-22.4C72.1,41.6,72.1,35.4,67.9,33z\" />\r\n                        </svg>\r\n                        <svg class=\"svg--pause\" width=\"40px\" height=\"40px\" viewBox=\"0 0 33 40\">\r\n                            <rect width=\"10\" height=\"40\" />\r\n                            <rect x=\"20\" width=\"10\" height=\"40\" />\r\n                        </svg>\r\n                    </span>\r\n                </div>\r\n                <figcaption class=\"item__caption\">\r\n                    <span class=\"text\">${val.song}</span>\r\n                    <span class=\"actions\">\r\n                        <i class=\"icon icon--play\"></i>\r\n                    </span>\r\n                </figcaption>\r\n            </figure>\r\n            `;\r\n        });\r\n    })\r\n    .catch(res => {\r\n        featuredList.innerHTML = `<h1 class='fetch__msg error'>\r\n            <div class=\"msg__inner\">\r\n                ${res}\r\n            <div>\r\n        </h1>`\r\n    });"]}